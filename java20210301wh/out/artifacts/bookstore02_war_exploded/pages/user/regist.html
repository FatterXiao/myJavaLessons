<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>尚硅谷会员注册页面</title>
    <base href="http://localhost:8080/bookstore02/">
    <link type="text/css" rel="stylesheet" href="static/css/style.css" />
    <link rel="stylesheet" href="static/css/register.css" />
    <style type="text/css">
      .login_form {
        height: 420px;
        margin-top: 25px;
      }
    </style>
    <script src="static/script/jquery-1.7.2.js"></script>
    <script>
      $(function () {
        //给注册按钮绑定单击事件
        $("#btn").click(function () {
          //获取用户输入的用户名
          var username = $("#username").val();
          //设置验证用户名的正则表达式
          var usernameReg = /^[a-zA-Z0-9_-]{3,16}$/;
          //验证用户名
          var flag = usernameReg.test(username);
          //如果不符合要求弹出提示框
          if(!flag){
            alert("请输入3到16位的字母、数字、下划线、减号组合的用户名！");
            //取消默认行为
            return false;
          }
          //获取用户输入的密码
          var password = $("#password").val();
          //设置验证密码的正则表达式
          var passwordReg = /^[a-zA-Z0-9_-]{6,18}$/;
          //验证密码
          if(!passwordReg.test(password)){
            alert("请输入6到18位的字母、数字、下划线、减号组合的密码！");
            //取消默认行为
            return false;
          }
          //获取用户输入的确认密码
          var repwd = $("#repwd").val();
          //判断两次输入的密码是否一致
          if(repwd != password){
            //清空确认密码
            $("#repwd").val("");
            alert("两次输入的密码不一致！");
            //取消默认行为
            return false;
          }
          //获取用户输入的邮箱
          var email = $("#email").val();
          //设置验证邮箱的正则表达式
          var emailReg = /^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/;
          //验证邮箱
          if(!emailReg.test(email)){
            alert("邮箱格式不正确！");
            return false;
          }
          //获取用户输入的验证码
          var code = $("#code").val();
          if(code == ""){
            alert("请输入验证码");
            return false;
          }
        });
      });
    </script>
  </head>
  <body>
    <div id="login_header">
      <a href="index.html">
        <img class="logo_img" alt="" src="static/img/logo.gif" />
      </a>
    </div>

    <div class="login_banner">
      <div class="register_form">
        <h1>注册尚硅谷会员</h1>
        <form action="RegistServlet" method="post">
          <div class="form-item">
            <div>
              <label>用户名称:</label>
              <input type="text" placeholder="请输入用户名" id="username" autocomplete="on" name="username"/>
            </div>
            <span class="errMess">用户名应为6~16位数组和字母组成</span>
          </div>
          <div class="form-item">
            <div>
              <label>用户密码:</label>
              <input type="password" placeholder="请输入密码" id="password" name="password"/>
            </div>
            <span class="errMess">密码的长度至少为8位</span>
          </div>
          <div class="form-item">
            <div>
              <label>确认密码:</label>
              <input type="password" placeholder="请输入确认密码" id="repwd"/>
            </div>
            <span class="errMess">密码两次输入不一致</span>
          </div>
          <div class="form-item">
            <div>
              <label>用户邮箱:</label>
              <input type="text" placeholder="请输入邮箱" id="email" name="email"/>
            </div>
            <span class="errMess">请输入正确的邮箱格式</span>
          </div>
          <div class="form-item">
            <div>
              <label>验证码:</label>
              <div class="verify">
                <input type="text" placeholder="请输入右边的验证码" id="code" name="code"/>
                <img src="static/img/code.bmp" alt="" />
              </div>
            </div>
            <span class="errMess">请输入正确的验证码</span>
          </div>
          <button class="btn" id="btn">注册</button>
        </form>
      </div>
    </div>
    <div id="bottom">
      <span>
        尚硅谷书城.Copyright &copy;2015
      </span>
    </div>
  </body>
</html>
